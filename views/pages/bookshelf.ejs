<!-- <?php 
include '../lib/searchfunction.php';
?> -->

<html>

<head>
<title>Book Shelf</title>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="../multimedia/logo.png" type="image/icon type">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
<link rel="stylesheet" href="../css/sidenav.css">

<script defer>
        searchForm = document.querySelector('.search-form');

        document.querySelector('#search-btn').onclick = () =>{
        searchForm.classList.toggle('active');
        }

        let loginForm = document.querySelector('.login-form-container');

        document.querySelector('#login-btn').onclick = () =>{
        loginForm.classList.toggle('active');
        }

        document.querySelector('#close-login-btn').onclick = () =>{
        loginForm.classList.remove('active');
        }

        window.onscroll = () =>{

        searchForm.classList.remove('active');

        if(window.scrollY > 80){
            document.querySelector('.header .header-2').classList.add('active');
        }else{
            document.querySelector('.header .header-2').classList.remove('active');
        }

        }

        window.onload = () =>{

        if(window.scrollY > 80){
            document.querySelector('.header .header-2').classList.add('active');
        }else{
            document.querySelector('.header .header-2').classList.remove('active');
        }

        fadeOut();

        }

        function loader(){
        document.querySelector('.loader-container').classList.add('active');
        }

        function fadeOut(){
        setTimeout(loader, 4000);
        }

        var swiper = new Swiper(".books-slider", {
        loop:true,
        centeredSlides: true,
        autoplay: {
            delay: 9500,
            disableOnInteraction: false,
        },
        breakpoints: {
            0: {
            slidesPerView: 1,
            },
            768: {
            slidesPerView: 2,
            },
            1024: {
            slidesPerView: 3,
            },
        },
        });

        var swiper = new Swiper(".featured-slider", {
        spaceBetween: 10,
        loop:true,
        centeredSlides: true,
        autoplay: {
            delay: 9500,
            disableOnInteraction: false,
        },
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
        breakpoints: {
            0: {
            slidesPerView: 1,
            },
            450: {
            slidesPerView: 2,
            },
            768: {
            slidesPerView: 3,
            },
            1024: {
            slidesPerView: 4,
            },
        },
        });

        var swiper = new Swiper(".arrivals-slider", {
        spaceBetween: 10,
        loop:true,
        centeredSlides: true,
        autoplay: {
            delay: 9500,
            disableOnInteraction: false,
        },
        breakpoints: {
            0: {
            slidesPerView: 1,
            },
            768: {
            slidesPerView: 2,
            },
            1024: {
            slidesPerView: 3,
            },
        },
        });

        var swiper = new Swiper(".reviews-slider", {
        spaceBetween: 10,
        grabCursor:true,
        loop:true,
        centeredSlides: true,
        autoplay: {
            delay: 9500,
            disableOnInteraction: false,
        },
        breakpoints: {
            0: {
            slidesPerView: 1,
            },
            768: {
            slidesPerView: 2,
            },
            1024: {
            slidesPerView: 3,
            },
        },
        });

        var swiper = new Swiper(".blogs-slider", {
        spaceBetween: 10,
        grabCursor:true,
        loop:true,
        centeredSlides: true,
        autoplay: {
            delay: 9500,
            disableOnInteraction: false,
        },
        breakpoints: {
            0: {
            slidesPerView: 1,
            },
            768: {
            slidesPerView: 2,
            },
            1024: {
            slidesPerView: 3,
            },
        },
        });
        </script defer>
        <script>
            function openNav() {
        document.getElementById("mySidenav").style.width = "300px";
        }

        function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
        }
  </script>

<!-- pagination css -->
<style>
 .pagination {
   padding: 8px 16px;
   border: 1px solid #ccc;
   color: #333;
   font-weight: bold;
 }
</style>

<!-- side nav css -->
<style>
    
  li {
    list-style-image: url('try.png');
   }
   #navv {
    padding-top: 50px;
    top: 140;
  position: absolute;
  z-index: 11;

   }
   .sidenav {
     width: 0;
     height: 100%;
     position: absolute;
     z-index: 24;
     top: 140;
     left: 0;
     background-color: white;
     overflow-x: hidden;
     transition: 0.5s;
     padding-top: 50px;
     font-size: 20px;
     color: #818181;

   }
     
   
 
   .sidenav a {
     padding: 8px 8px 8px;
     text-decoration:none;
     font-size: 20px;
     color: #818181;
     display: block;
     transition: 0.3s;
   }
   .sidenav a:hover {
     color: #2fcc37;
   }
   .sidenav .closebtn {
 
     top: 0;
    
     font-size: 30px;
     
   }
   .closebtn {
     right: 25px;
     margin-left: 200px;
   }
 
   p, ul  {
       margin-left: 30px;
   }
   @media screen and (max-height: 450px) {
     .sidenav {padding-top: 15px;}
     .sidenav a {font-size: 18px;}
   }
   ul {
     padding-top: 20px;
   }
   p {
     color: rgb(57, 87, 12);
     font-size: 25px;
   }
</style>

</head>

<body>

    <%- include('../partials/navigation'); -%>

    <%= data  %>
    <%- include('../partials/bookslider'); -%>
<div id="navv">
 <span style="font-size:20px;cursor:pointer" onclick="openNav()">&#9776; Filter By</span>
</div>
<div id="mySidenav" class="sidenav">
 <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
 <p>CATEGORIES</p>

 <ul>

   <!-- <?php
  $fetch = "SELECT DISTINCT Genre FROM books";
  $genre_show = mysqli_query($db, $fetch);
  while($genres = mysqli_fetch_array($genre_show)){
  
  ?> -->

   <li><a href="?g=<?php echo $genres[0]?>"><?php echo $genres[0]?></a></li>

<!-- 
   <?php
  }
  ?> -->
 </ul>
 <p>Published</p>
 <ul>
   <li><a href="?m=30">Past Month</a></li>
   <li><a href="?hy= 180"> Past 6 monthts </a></li>
   <li><a href="?y= 365">Past year</a></li>
   <li><a href="?fy= 1825">Past 5 years</a></li>
 </ul>
</div>



<div align="center">
 <br />

 <!-- <?php
$page_query= $pdo->prepare(
"
SELECT * FROM books ORDER BY BookID DESC
");
$page_query->execute();
$page_result = $page_query->fetchColumn();
$total_records = $page_result;

$total_pages = ceil($total_records/$record_per_page);
$start_loop = $page;
$difference = $total_pages - $page;
if($difference <= 5)
{
$start_loop = $total_pages - 5;
}
$end_loop = $start_loop + 4;
if($page > 1)
{
echo "<a class=pagination href='bookshelf.php?page=1'>First</a>";
echo "<a class=pagination href='bookshelf.php?page=".($page - 1)."'> << </a>";
}
for($i=$start_loop; $i<=$end_loop; $i++)
{     
echo "<a class=pagination href='bookshelf.php?page=".$i."'>".$i."</a>";
}
if($page <= $end_loop)
{
echo "<a class=pagination href='bookshelf.php?page=".($page + 1)."'> >></a>";
echo "<a class=pagination href='bookshelf.php?page=".$total_pages."'>Last</a>";
}
?> -->
</div>

<!-- custom js file link  -->

<!-- 
<div class="loader-container">
 <img src="image/loader-img.gif" alt="" />
</div> -->

<%- include('../partials/footer'); -%>